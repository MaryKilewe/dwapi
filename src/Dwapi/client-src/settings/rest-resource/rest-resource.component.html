<p-tabView>
    <p-tabPanel header="">
        <p-dataTable [value]="resources" selectionMode="single" [(selection)]="selectedResource" dataKey="id">
            <p-header>Rest Endpoints</p-header>
            <p-column field="name" header="Name"></p-column>
            <p-column field="endPoint" header="Endpoint"></p-column>=
            <p-column styleClass="col-button" header="Action">
                <ng-template let-resource="rowData" pTemplate="body">
                    <button type="button" pButton (click)="editResource(resource)" icon="ui-icon-edit" class="green-btn"></button>
                </ng-template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
</p-tabView>

<p-dialog header="Extract" [(visible)]="displayDialog" [width]="500" [responsive]="true" showEffect="fade" [modal]="true">
    <form #emrForm="ngForm" novalidate>

        <div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="resourceDialog">
            <p-messages [(value)]="messages"></p-messages>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="name">{{resourceDialog.name}}</label>
                </div>
                <div class="ui-g-12">
                    <textarea pInputText id="name" name="name" required [(ngModel)]="resourceDialog.endPoint"></textarea>
                </div>
            </div>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="name">Base Url</label>
                </div>
                <div class="ui-g-12">
                    <p-dropdown [options]="urls" name="databaseProtocolId" [(ngModel)]="selectedUrl" placeholder="Select Base Url"></p-dropdown>
                </div>
            </div>
        </div>

    </form>
    <p-footer>
        <div class="ui-dialog-buttonpane ui-helper-clearfix">
            <button type="submit" pButton icon="ui-icon-save" (click)="updateResource()" label="Save" [disabled]="!emrForm.form.valid"></button>
        </div>
    </p-footer>
</p-dialog>

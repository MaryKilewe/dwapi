<div>
    <p-dataTable [value]="dbs" dataKey="id">
        <p-column field="databaseTypeName" header="DBMS"></p-column>
        <p-column field="host" header="Host"></p-column>
        <p-column field="databaseName" header="Database"></p-column>
        <p-column header="Action">
            <ng-template let-activeDb="rowData" pTemplate="body">
                <button pButton icon="ui-icon-edit" class="teal-btn" (click)="editDatabase(activeDb)"></button>
            </ng-template>
        </p-column>
    </p-dataTable>
</div>
<br>
<button type="button" label="Add" icon="ui-icon-add" pButton (click)="newDatabase()"></button>
<p-dialog header="Database Connection" [(visible)]="displayDialog" width="400px" [responsive]="true" showEffect="fade" [modal]="true" [responsive]="true">
    <form #dbForm="ngForm" novalidate>
        <div class="ui-grid ui-grid-responsive ui-fluid">
            <p-messages [(value)]="messages"></p-messages>
            <input type="hidden" name="id" [(ngModel)]="dbDialog.id"/>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="databaseType">DBMS</label>
                </div>
                <div class="ui-g-12 ui-md-9">
                    <p-dropdown [options]="databaseTypes" id="databaseType" name="databaseType" required [(ngModel)]="dbDialog.databaseType"></p-dropdown>
                </div>
            </div>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="host">Host</label>
                </div>
                <div class="ui-g-12 ui-md-9">
                    <input pInputText id="host" name="host" required
                           [(ngModel)]="dbDialog.host" />
                </div>
            </div>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="host">Port</label>
                </div>
                <div class="ui-g-12 ui-md-9">
                    <input pInputText id="port" name="port" [(ngModel)]="dbDialog.port" />
                </div>
            </div>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="username">User</label>
                </div>
                <div class="ui-g-12 ui-md-9">
                    <input pInputText id="username" name="username" required
                           [(ngModel)]="dbDialog.username" />
                </div>
            </div>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="password">Password</label>
                </div>
                <div class="ui-g-12 ui-md-9">
                    <input pInputText id="password" type="password" name="password"
                           [(ngModel)]="dbDialog.password" />
                </div>
            </div>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="databaseName">Database</label>
                </div>
                <div class="ui-g-12 ui-md-9">
                    <input pInputText id="databaseName" name="databaseName" required
                           [(ngModel)]="dbDialog.databaseName" />
                </div>
            </div>
            <div class="ui-g ui-g-12 ui-g-nopad">
                <div class="ui-g-12 ui-md-3 ui-label">
                    <label for="advancedProperties">Advanced Properties</label>
                </div>
                <div class="ui-g-12 ui-md-9">
                    <input pInputText id="advancedProperties" name="advancedProperties"
                           [(ngModel)]="dbDialog.advancedProperties" />
                </div>
            </div>
            <div class="ui-g-12 ui-lg-12">
                <div class="ui-g-12 ui-md-3">
                    <button pButton type="submit" (click)="saveProtocol()" label="Save" pButton
                            icon="ui-icon-save" [disabled]="!dbForm.form.valid"></button>
                </div>
                <div class="ui-g-12 ui-md-3">
                    <button pButton type="submit" (click)="verfiyProtocol()" label="Verify" pButton
                            icon="ui-icon-check" [disabled]="!dbForm.form.valid"></button>
                </div>
            </div>
        </div>
    </form>
</p-dialog>
